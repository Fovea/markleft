!function(){"use strict";var r,n=this;r="undefined"!=typeof exports?exports:n.markleft={};var e=r.plugins=[];r.VERSION="0.1.0",r.toHTML=function(r){for(var n=[t.transform(r)],a=0;a<e.length;++a){for(var i=e[a],l=[],o=0;o<n.length;++o){var u=n[o];"<"!==u[0]&&(u=i.transform(u)),"string"==typeof u?l.push(u):l=l.concat(u)}n=l}return n.join("")},r.registerPlugin=function(r){if(!r.name||!r.transform)return console.log("markleft.registerPlugin: Invalid plugin"),void 0;for(var n=0;n<e.length;++n)if(e[n].name===r.name)return console.log("markleft.registerPlugin: Plugin "+r.name+" already registered"),void 0;e.push(r)},r.unregisterPlugin=function(r){r.name&&(r=r.name);for(var n=0;n<e.length;++n)if(e[n].name===r)return e.splice(n,1),void 0;console.log("markleft.unregisterPlugin: Plugin "+r+" not found")};var t={name:"gtlt",transform:function(r){return r.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},a={name:"a",transform:function(r){var n=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,e="!#@#!",t=r.replace(n,e+'<a href="$1">$1</a>'+e);return t.split(e)}};r.registerPlugin(a);var i={name:"amp",transform:function(r){return r.replace(/&/g,"&amp;")}};r.registerPlugin(i);var l={name:"br",transform:function(r){return r.replace(/\n/g,"<br />")}};r.registerPlugin(l);var o={name:"hr",transform:function(r){return r.replace(/<br \/>---<br \/>/g,"<hr />")}};r.registerPlugin(o);var u="#%@%#";return r.italic={name:"italic",transform:function(r){var n=/_([^_]+)_/g,e=u+"<i>"+u+"$1"+u+"</i>"+u,t=r.replace(n,e);return t.split(u)}},r.bold={name:"bold",transform:function(r){var n=/\*([^*]+)\*/g,e=u+"<b>"+u+"$1"+u+"</b>"+u,t=r.replace(n,e);return t.split(u)}},r}.call(this);